{"ast":null,"code":"var _jsxFileName = \"E:\\\\AlumniSocialNetwork\\\\alumniweb\\\\src\\\\components\\\\PostItem.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Card, Button, Spinner, Form } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { endpoints } from \"../configs/Apis\";\nimport CommentList from \"./CommentList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostItem = ({\n  post\n}) => {\n  _s();\n  var _post$user, _post$user2;\n  const [reactions, setReactions] = useState({});\n  const [showComments, setShowComments] = useState(false);\n  const fetchReactions = async () => {\n    try {\n      const res = await axios.get(`${endpoints.reactions}/stats/${post.id}`);\n      setReactions(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch reactions:\", err);\n    }\n  };\n  useEffect(() => {\n    fetchReactions();\n  }, [post.id]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"shadow-sm\",\n    children: /*#__PURE__*/_jsxDEV(Card.Body, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (_post$user = post.user) === null || _post$user === void 0 ? void 0 : _post$user.avatar,\n          alt: \"avatar\",\n          className: \"rounded-circle me-2\",\n          width: 40,\n          height: 40\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: (_post$user2 = post.user) === null || _post$user2 === void 0 ? void 0 : _post$user2.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted\",\n            children: new Date(post.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        children: post.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), post.image && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: post.image,\n        alt: \"post\",\n        className: \"img-fluid rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 text-muted\",\n        children: [\"\\u2764\\uFE0F \", reactions.heart || 0, \" \\xB7 \\uD83D\\uDE06 \", reactions.haha || 0, \" \\xB7 \\uD83D\\uDC4D \", reactions.like || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          size: \"sm\",\n          children: \"\\uD83D\\uDC4D Like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-secondary\",\n          size: \"sm\",\n          onClick: () => setShowComments(!showComments),\n          children: \"\\uD83D\\uDCAC Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), showComments && /*#__PURE__*/_jsxDEV(CommentList, {\n        postId: post.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n_s(PostItem, \"YCRGbWDckhz9Fz2/v8EkXUTJW18=\");\n_c = PostItem;\nexport default PostItem;\nvar _c;\n$RefreshReg$(_c, \"PostItem\");","map":{"version":3,"names":["useEffect","useState","Card","Button","Spinner","Form","axios","endpoints","CommentList","jsxDEV","_jsxDEV","PostItem","post","_s","_post$user","_post$user2","reactions","setReactions","showComments","setShowComments","fetchReactions","res","get","id","data","err","console","error","className","children","Body","src","user","avatar","alt","width","height","fileName","_jsxFileName","lineNumber","columnNumber","name","Date","createdAt","toLocaleString","Text","content","image","heart","haha","like","variant","size","onClick","postId","_c","$RefreshReg$"],"sources":["E:/AlumniSocialNetwork/alumniweb/src/components/PostItem.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Card, Button, Spinner, Form } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { endpoints } from \"../configs/Apis\";\r\nimport CommentList from \"./CommentList\";\r\n\r\nconst PostItem = ({ post }) => {\r\n  const [reactions, setReactions] = useState({});\r\n  const [showComments, setShowComments] = useState(false);\r\n\r\n  const fetchReactions = async () => {\r\n    try {\r\n      const res = await axios.get(`${endpoints.reactions}/stats/${post.id}`);\r\n      setReactions(res.data);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch reactions:\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchReactions();\r\n  }, [post.id]);\r\n\r\n  return (\r\n    <Card className=\"shadow-sm\">\r\n      <Card.Body>\r\n        {/* Header */}\r\n        <div className=\"d-flex align-items-center mb-2\">\r\n          <img\r\n            src={post.user?.avatar}\r\n            alt=\"avatar\"\r\n            className=\"rounded-circle me-2\"\r\n            width={40}\r\n            height={40}\r\n          />\r\n          <div>\r\n            <div><strong>{post.user?.name}</strong></div>\r\n            <small className=\"text-muted\">{new Date(post.createdAt).toLocaleString()}</small>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <Card.Text>{post.content}</Card.Text>\r\n        {post.image && <img src={post.image} alt=\"post\" className=\"img-fluid rounded\" />}\r\n\r\n        {/* Reactions Summary */}\r\n        <div className=\"mt-2 text-muted\">\r\n          ‚ù§Ô∏è {reactions.heart || 0} ¬∑ üòÜ {reactions.haha || 0} ¬∑ üëç {reactions.like || 0}\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"d-flex justify-content-between mt-2\">\r\n          <Button variant=\"outline-primary\" size=\"sm\">üëç Like</Button>\r\n          <Button\r\n            variant=\"outline-secondary\"\r\n            size=\"sm\"\r\n            onClick={() => setShowComments(!showComments)}\r\n          >\r\n            üí¨ Comment\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Comments */}\r\n        {showComments && <CommentList postId={post.id} />}\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,IAAI,EAAEC,MAAM,EAAEC,OAAO,EAAEC,IAAI,QAAQ,iBAAiB;AAC7D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,QAAQ,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,UAAA,EAAAC,WAAA;EAC7B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAEvD,MAAMmB,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,GAAGf,SAAS,CAACS,SAAS,UAAUJ,IAAI,CAACW,EAAE,EAAE,CAAC;MACtEN,YAAY,CAACI,GAAG,CAACG,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;IAClD;EACF,CAAC;EAEDzB,SAAS,CAAC,MAAM;IACdoB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACR,IAAI,CAACW,EAAE,CAAC,CAAC;EAEb,oBACEb,OAAA,CAACR,IAAI;IAAC0B,SAAS,EAAC,WAAW;IAAAC,QAAA,eACzBnB,OAAA,CAACR,IAAI,CAAC4B,IAAI;MAAAD,QAAA,gBAERnB,OAAA;QAAKkB,SAAS,EAAC,gCAAgC;QAAAC,QAAA,gBAC7CnB,OAAA;UACEqB,GAAG,GAAAjB,UAAA,GAAEF,IAAI,CAACoB,IAAI,cAAAlB,UAAA,uBAATA,UAAA,CAAWmB,MAAO;UACvBC,GAAG,EAAC,QAAQ;UACZN,SAAS,EAAC,qBAAqB;UAC/BO,KAAK,EAAE,EAAG;UACVC,MAAM,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eACF9B,OAAA;UAAAmB,QAAA,gBACEnB,OAAA;YAAAmB,QAAA,eAAKnB,OAAA;cAAAmB,QAAA,GAAAd,WAAA,GAASH,IAAI,CAACoB,IAAI,cAAAjB,WAAA,uBAATA,WAAA,CAAW0B;YAAI;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC7C9B,OAAA;YAAOkB,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAE,IAAIa,IAAI,CAAC9B,IAAI,CAAC+B,SAAS,CAAC,CAACC,cAAc,CAAC;UAAC;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9E,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN9B,OAAA,CAACR,IAAI,CAAC2C,IAAI;QAAAhB,QAAA,EAAEjB,IAAI,CAACkC;MAAO;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,EACpC5B,IAAI,CAACmC,KAAK,iBAAIrC,OAAA;QAAKqB,GAAG,EAAEnB,IAAI,CAACmC,KAAM;QAACb,GAAG,EAAC,MAAM;QAACN,SAAS,EAAC;MAAmB;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAGhF9B,OAAA;QAAKkB,SAAS,EAAC,iBAAiB;QAAAC,QAAA,GAAC,eAC5B,EAACb,SAAS,CAACgC,KAAK,IAAI,CAAC,EAAC,qBAAM,EAAChC,SAAS,CAACiC,IAAI,IAAI,CAAC,EAAC,qBAAM,EAACjC,SAAS,CAACkC,IAAI,IAAI,CAAC;MAAA;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E,CAAC,eAGN9B,OAAA;QAAKkB,SAAS,EAAC,qCAAqC;QAAAC,QAAA,gBAClDnB,OAAA,CAACP,MAAM;UAACgD,OAAO,EAAC,iBAAiB;UAACC,IAAI,EAAC,IAAI;UAAAvB,QAAA,EAAC;QAAO;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC5D9B,OAAA,CAACP,MAAM;UACLgD,OAAO,EAAC,mBAAmB;UAC3BC,IAAI,EAAC,IAAI;UACTC,OAAO,EAAEA,CAAA,KAAMlC,eAAe,CAAC,CAACD,YAAY,CAAE;UAAAW,QAAA,EAC/C;QAED;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAGLtB,YAAY,iBAAIR,OAAA,CAACF,WAAW;QAAC8C,MAAM,EAAE1C,IAAI,CAACW;MAAG;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEX,CAAC;AAAC3B,EAAA,CA7DIF,QAAQ;AAAA4C,EAAA,GAAR5C,QAAQ;AA+Dd,eAAeA,QAAQ;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}